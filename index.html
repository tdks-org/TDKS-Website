<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ಟ್ರೈ ಡೆಲ್ಟಾ ಕನ್ನಡ ಸಂಘ</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <meta name="description" content="Tri Delta Kannada Sangha (TDKS) — Community for language, culture and service">
</head>

<!-- thin mustard strip across full width (like the reference) -->
  <div class="top-strip" aria-hidden="true"></div>

<body class="home">
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="./" aria-label="Tri Delta Kannada Sangha home">
        <img src="assets/logo.png" alt="TDKS logo" class="logo">
        <span class="brand-text">ಟ್ರೈ ಡೆಲ್ಟಾ ಕನ್ನಡ ಸಂಘ | Tridelta Kannada Sangha</span>
      </a>

      <nav class="nav" aria-label="Primary navigation">
        <a href="./" class="nav-link">Home</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="events.html" class="nav-link">Events</a>
        <a href="donate.html" class="nav-link">Donate</a>
        <a href="contact.html" class="nav-link">Contact</a>
      </nav>

      <div class="header-actions">
        <button class="mobile-toggle" aria-label="Toggle menu">☰</button>
      </div>
    </div>
  </header>

<!-- HERO SLIDER (half viewport height, bordered images) -->
<section class="hero-slider" aria-label="Featured content">
  <div class="slider" id="mainSlider" data-autoplay="true" data-interval="10000" tabindex="0">
    <div class="slides">
      <!-- Slide 1 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="1">
        <img src="assets/slider/slider-1.jpg" alt="Group Photo of TDKS members" class="slide-img" />
      </div>

      <!-- Slide 2 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="2">
        <img src="assets/slider/slider-2.jpg" alt="Volunteers serving the community" class="slide-img" />
      </div>

      <!-- Slide 3 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="3">
        <img src="assets/slider/slider-3.jpg" alt="People donating and supporting community drives" class="slide-img" />
      </div>

      <!-- Slide 4 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="4">
        <img src="assets/slider/slider-4.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 5 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="5">
        <img src="assets/slider/slider-5.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 6 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="6">
        <img src="assets/slider/slider-6.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 7 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="7">
        <img src="assets/slider/slider-7.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 8 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="8">
        <img src="assets/slider/slider-8.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 9 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="9">
        <img src="assets/slider/slider-9.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 10 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="10">
        <img src="assets/slider/slider-10.jpg" alt="Community event" class="slide-img" />
      </div>

      <!-- Slide 11 -->
      <div class="slide" role="group" aria-roledescription="slide" aria-label="11">
        <img src="assets/slider/slider-11.jpg" alt="Community event" class="slide-img" />
      </div>

    </div>

    <button class="slider-prev" aria-label="Previous slide">‹</button>
    <button class="slider-next" aria-label="Next slide">›</button>

    <div class="slider-dots" role="tablist" aria-label="Slide dots"></div>
  </div>
</section>

<main>
  <section class="container intro">
    <article class="home-block">
      <h2>About Us</h2>
      <p>Tri Delta Kannada Sangha (ಟ್ರೈ ಡೆಲ್ಟಾ ಕನ್ನಡ ಸಂಘ) is a nonprofit community organization founded to unite Kannadigas and promote the beauty of our language, art, and culture.</p>
      <p><a href="about.html">Read more →</a></p>
    </article>

    <div class="three-cards">
      <div class="home-block">
        <h3>Volunteer</h3>
        <p>Help organize, teach or join our outreach initiatives.</p>
        <a href="contact.html#volunteer">Sign up →</a>
      </div>

      <div class="home-block" id="donate">
        <h3>Donate</h3>
        <p>Your donations help run community programs and support those in need.</p>
        <a href="contact.html#donation">How to donate →</a>
      </div>
    </div>
  </section>

  <!-- Upcoming Events slider -->
  <section class="upcoming-events" aria-label="Upcoming Events">
    <div class="container">
      <h2 class="section-title">Upcoming Events</h2>

      <div class="slider event-slider" id="eventSlider" data-autoplay="true" data-interval="9000" tabindex="0">
        <div class="slides">
          <div class="slide" role="group" aria-roledescription="slide" aria-label="1">
            <a class="event-slide-link" href="events.html#event-ugadi-2026">
              <img src="assets/event/event-bayarea-mela-2026-main.jpg" alt="Bay Area Kannadigara Mela 2026" class="slide-img event-slide-img" />
              <span class="event-slide-caption">Bay Area Annual Kannadigara Mela - 2026</span>
            </a>
          </div>

          <div class="slide" role="group" aria-roledescription="slide" aria-label="1">
            <a class="event-slide-link" href="events.html#event-camping-2026">
              <img src="assets/event/event-camping-main.jpg" alt="TDKS Annual Camping 2026" class="slide-img event-slide-img" />
              <span class="event-slide-caption">TDKS Annual Camping - 2026</span>
            </a>
          </div>
        </div>

        <button class="slider-prev" aria-label="Previous event">‹</button>
        <button class="slider-next" aria-label="Next event">›</button>
        <div class="slider-dots" role="tablist" aria-label="Event dots"></div>
      </div>
    </div>
  </section>

  <!-- Sponsors (swiper-style: multiple logos visible together) -->
  <section class="sponsors" aria-label="Our Sponsors">
    <div class="container">
      <h2 class="section-title">Our Sponsors</h2>
      <!-- Update sponsor links (href) below to point to sponsor websites -->

      <div class="slider sponsor-slider" id="sponsorSlider" data-autoplay="true" data-interval="6000" tabindex="0">
        <div class="slides">
          <!-- Replace image filenames with your actual assets in /assets -->
          <div class="slide" role="group" aria-roledescription="slide" aria-label="1">
            <a class="sponsor-link" href="https://www.primerica.com/anilhalappa&origin=customStandard" target="_blank" rel="noopener noreferrer"><figure class="sponsor-figure">
              <img src="assets/sponsor/sponsor-1.png" alt="Diamond Sponsor" class="slide-img" />
              <figcaption class="sponsor-caption">Diamond Sponsor</figcaption>
            </figure></a>
          </div>

          <div class="slide" role="group" aria-roledescription="slide" aria-label="2">
            <a class="sponsor-link" href="https://ozoneinsurance.com/" target="_blank" rel="noopener noreferrer"><figure class="sponsor-figure">
              <img src="assets/sponsor/sponsor-2.png" alt="Gold Sponsor" class="slide-img" />
              <figcaption class="sponsor-caption">Gold Sponsor</figcaption>
            </figure></a>
          </div>

          <div class="slide" role="group" aria-roledescription="slide" aria-label="3">
            <a class="sponsor-link" rel="noopener noreferrer"><figure class="sponsor-figure">
              <img src="assets/sponsor/sponsor-3.png" alt="Silver Sponsor" class="slide-img" />
              <figcaption class="sponsor-caption">Silver Sponsor</figcaption>
            </figure></a>
          </div>

          <div class="slide" role="group" aria-roledescription="slide" aria-label="4">
            <a class="sponsor-link" rel="noopener noreferrer"><figure class="sponsor-figure">
              <img src="assets/sponsor/sponsor-4.png" alt="Community Sponsor" class="slide-img" />
              <figcaption class="sponsor-caption">Community Sponsor</figcaption>
            </figure></a>
          </div>

          <div class="slide" role="group" aria-roledescription="slide" aria-label="5">
            <a class="sponsor-link" rel="noopener noreferrer"><figure class="sponsor-figure">
              <img src="assets/sponsor/sponsor-5.png" alt="Community Sponsor" class="slide-img" />
              <figcaption class="sponsor-caption">Community Sponsor</figcaption>
            </figure></a>
          </div>
        </div>

        <button class="slider-prev" aria-label="Previous sponsors">‹</button>
        <button class="slider-next" aria-label="Next sponsors">›</button>
        <div class="slider-dots" role="tablist" aria-label="Sponsor dots"></div>
      </div>
    </div>
  </section>

</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <div class="footer-col">
      <h4>Contact</h4>
      <address>
        5349 High Valley Lane<br>
        Antioch, CA 94531<br>
        Phone: +1 (917) 640-4714<br>
        <a href="mailto:sales.tdks@gmail.com">sales.tdks@gmail.com</a><br>
        <a href="https://www.instagram.com/tridelatsks/" target="_blank" rel="noopener noreferrer">Instagram</a><br>
        <a href="https://www.facebook.com/groups/trideltaks/" target="_blank" rel="noopener noreferrer">Facebook</a>
      </address>
    </div>

    <div class="footer-col">
      <h4>Quick Links</h4>
      <ul class="quick-links">
        <li><a href="about.html">About</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </div>

  <div class="container footer-bottom">
    <div class="copyright">© <span id="year"></span> TDKS — All rights reserved</div>
  </div>
</footer>

<script>
  // mobile menu toggle
  const toggle = document.querySelector('.mobile-toggle');
  toggle && toggle.addEventListener('click', () => {
    document.querySelector('.nav').classList.toggle('open');
    document.querySelector('.header-actions').classList.toggle('open');
  });

  // Slider logic: slides arranged horizontally; transform slides container to replace the screen
  (function() {
    const slider = document.getElementById('mainSlider');
    if (!slider) return;

    const slidesWrap = slider.querySelector('.slides');
    const slides = Array.from(slidesWrap.querySelectorAll('.slide'));
    const prevBtn = slider.querySelector('.slider-prev');
    const nextBtn = slider.querySelector('.slider-next');
    const dotsWrap = slider.querySelector('.slider-dots');
    const autoplay = slider.dataset.autoplay === 'true';
    // ensure at least 5000ms interval
    let interval = parseInt(slider.dataset.interval || '5000', 10);
    if (isNaN(interval) || interval < 5000) interval = 5000;

    let current = 0;
    let timer = null;

    function updatePosition() {
      // Move by slide-width (100% of the slider), not viewport-width, to avoid horizontal page scroll
      slidesWrap.style.transform = 'translateX(' + (-current * 100) + '%)';
      Array.from(dotsWrap.children).forEach((d,i)=> d.classList.toggle('active', i===current));
      slides.forEach((s,i)=> s.setAttribute('aria-hidden', i===current ? 'false' : 'true'));
    }

    function goTo(index) {
      index = (index + slides.length) % slides.length;
      current = index;
      updatePosition();
    }
    function next() { goTo(current + 1); }
    function prev() { goTo(current - 1); }

    // create dots
    slides.forEach((_, i) => {
      const b = document.createElement('button');
      b.className = i===0 ? 'dot active' : 'dot';
      b.type = 'button';
      b.setAttribute('aria-label', 'Go to slide ' + (i+1));
      b.addEventListener('click', () => { goTo(i); restart(); });
      dotsWrap.appendChild(b);
    });

    nextBtn.addEventListener('click', () => { next(); restart(); });
    prevBtn.addEventListener('click', () => { prev(); restart(); });

    function start() { if (autoplay) timer = setInterval(next, interval); }
    function stop() { if (timer) { clearInterval(timer); timer = null; } }
    function restart() { stop(); start(); }

    // keyboard navigation (left/right)
    slider.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') { next(); restart(); }
      if (e.key === 'ArrowLeft') { prev(); restart(); }
    });

    // touch swipe (basic)
    let touchStartX = null;
    slidesWrap.addEventListener('touchstart', (e) => { touchStartX = e.touches[0].clientX; stop(); });
    slidesWrap.addEventListener('touchend', (e) => {
      if (touchStartX === null) return;
      const dx = e.changedTouches[0].clientX - touchStartX;
      if (Math.abs(dx) > 50) { dx < 0 ? next() : prev(); }
      touchStartX = null;
      restart();
    });

    // init
    updatePosition();
    start();
    slider.addEventListener('mouseenter', stop);
    slider.addEventListener('mouseleave', start);
    window.addEventListener('resize', updatePosition);
  })();

  // Upcoming events slider: swiper-style multi-card carousel
  (function() {
    const slider = document.getElementById('eventSlider');
    if (!slider) return;

    const slidesWrap = slider.querySelector('.slides');
    const slides = Array.from(slidesWrap.querySelectorAll('.slide'));
    const prevBtn = slider.querySelector('.slider-prev');
    const nextBtn = slider.querySelector('.slider-next');
    const dotsWrap = slider.querySelector('.slider-dots');
    const autoplay = slider.dataset.autoplay === 'true';

    let interval = parseInt(slider.dataset.interval || '7000', 10);
    if (isNaN(interval) || interval < 4000) interval = 4000;

    let current = 0;
    let timer = null;

    function getSlidesPerView() {
      const v = getComputedStyle(slider).getPropertyValue('--slides-per-view').trim();
      const n = parseFloat(v);
      return Number.isFinite(n) && n > 0 ? n : 1;
    }

    function updatePosition() {
      const spv = getSlidesPerView();
      const maxStart = Math.max(0, slides.length - spv);
      if (current > maxStart) current = 0;
      if (current < 0) current = maxStart;

      const step = 100 / spv;
      slidesWrap.style.transform = 'translateX(' + (-current * step) + '%)';
      Array.from(dotsWrap.children).forEach((d,i)=> d.classList.toggle('active', i===current));
    }

    function goTo(index) {
      current = index;
      updatePosition();
    }
    function next() { goTo(current + 1); }
    function prev() { goTo(current - 1); }

    function buildDots() {
      dotsWrap.innerHTML = '';
      const spv = getSlidesPerView();
      const maxStart = Math.max(0, Math.ceil(slides.length - spv));
      const count = maxStart + 1;
      for (let i = 0; i < count; i++) {
        const b = document.createElement('button');
        b.className = i===0 ? 'dot active' : 'dot';
        b.type = 'button';
        b.setAttribute('aria-label', 'Go to event set ' + (i+1));
        b.addEventListener('click', () => { goTo(i); restart(); });
        dotsWrap.appendChild(b);
      }
    }

    function start() { if (autoplay) timer = setInterval(next, interval); }
    function stop() { if (timer) { clearInterval(timer); timer = null; } }
    function restart() { stop(); start(); }

    nextBtn && nextBtn.addEventListener('click', () => { next(); restart(); });
    prevBtn && prevBtn.addEventListener('click', () => { prev(); restart(); });

    slider.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') { next(); restart(); }
      if (e.key === 'ArrowLeft') { prev(); restart(); }
    });

    let touchStartX = null;
    slidesWrap.addEventListener('touchstart', (e) => { touchStartX = e.touches[0].clientX; stop(); }, {passive:true});
    slidesWrap.addEventListener('touchend', (e) => {
      if (touchStartX === null) return;
      const dx = e.changedTouches[0].clientX - touchStartX;
      if (Math.abs(dx) > 40) { dx < 0 ? next() : prev(); }
      touchStartX = null;
      restart();
    }, {passive:true});

    buildDots();
    updatePosition();
    start();
    slider.addEventListener('mouseenter', stop);
    slider.addEventListener('mouseleave', start);
    window.addEventListener('resize', () => { buildDots(); updatePosition(); });
  })();

  // Sponsors slider: swiper-style multi-logo carousel (multiple slides visible)
  (function() {
    const slider = document.getElementById('sponsorSlider');
    if (!slider) return;

    const slidesWrap = slider.querySelector('.slides');
    const slides = Array.from(slidesWrap.querySelectorAll('.slide'));
    const prevBtn = slider.querySelector('.slider-prev');
    const nextBtn = slider.querySelector('.slider-next');
    const dotsWrap = slider.querySelector('.slider-dots');
    const autoplay = slider.dataset.autoplay === 'true';

    let interval = parseInt(slider.dataset.interval || '5000', 10);
    if (isNaN(interval) || interval < 2500) interval = 2500;

    let current = 0;
    let timer = null;

    function getSlidesPerView() {
      const v = getComputedStyle(slider).getPropertyValue('--slides-per-view').trim();
      const n = parseFloat(v);
      return Number.isFinite(n) && n > 0 ? n : 1;
    }

    function updatePosition() {
      const spv = getSlidesPerView();
      const maxStart = Math.max(0, slides.length - spv);
      if (current > maxStart) current = 0;
      if (current < 0) current = maxStart;

      const step = 100 / spv;
      slidesWrap.style.transform = 'translateX(' + (-current * step) + '%)';
      Array.from(dotsWrap.children).forEach((d,i)=> d.classList.toggle('active', i===current));
    }

    function goTo(index) {
      current = index;
      updatePosition();
    }
    function next() { goTo(current + 1); }
    function prev() { goTo(current - 1); }

    // dots (one per starting position)
    function buildDots() {
      dotsWrap.innerHTML = '';
      const spv = getSlidesPerView();
      const maxStart = Math.max(0, Math.ceil(slides.length - spv));
      const count = maxStart + 1;
      for (let i = 0; i < count; i++) {
        const b = document.createElement('button');
        b.className = i===0 ? 'dot active' : 'dot';
        b.type = 'button';
        b.setAttribute('aria-label', 'Go to sponsor set ' + (i+1));
        b.addEventListener('click', () => { goTo(i); restart(); });
        dotsWrap.appendChild(b);
      }
    }

    function start() { if (autoplay) timer = setInterval(next, interval); }
    function stop() { if (timer) { clearInterval(timer); timer = null; } }
    function restart() { stop(); start(); }

    nextBtn && nextBtn.addEventListener('click', () => { next(); restart(); });
    prevBtn && prevBtn.addEventListener('click', () => { prev(); restart(); });

    // keyboard
    slider.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') { next(); restart(); }
      if (e.key === 'ArrowLeft') { prev(); restart(); }
    });

    // touch swipe
    let touchStartX = null;
    slidesWrap.addEventListener('touchstart', (e) => { touchStartX = e.touches[0].clientX; stop(); }, {passive:true});
    slidesWrap.addEventListener('touchend', (e) => {
      if (touchStartX === null) return;
      const dx = e.changedTouches[0].clientX - touchStartX;
      if (Math.abs(dx) > 40) { dx < 0 ? next() : prev(); }
      touchStartX = null;
      restart();
    }, {passive:true});

    // init
    buildDots();
    updatePosition();
    start();
    slider.addEventListener('mouseenter', stop);
    slider.addEventListener('mouseleave', start);
    window.addEventListener('resize', () => { buildDots(); updatePosition(); });
  })();

  // header: shadow when scrolled
  (function(){
    const header = document.querySelector('.site-header');
    if (!header) return;
    function check() {
      if (window.scrollY > 8) header.classList.add('scrolled');
      else header.classList.remove('scrolled');
    }
    window.addEventListener('scroll', check, {passive:true});
    window.addEventListener('resize', check);
    check();
  })();

  // drop index.html from URL if present
  if (window.location.pathname.endsWith('index.html')) {
    const clean = window.location.pathname.replace(/index\.html$/, '') + window.location.search + window.location.hash;
    history.replaceState(null, '', clean);
  }

  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
